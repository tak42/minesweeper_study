(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2119:function(e,n,t){"use strict";t.r(n);var r=t(6687),i=t(7794),a=t.n(i),c=t(6486),o=t.n(c),u=t(9008),l=t(7294),f=t(7379),s=t(5893);function d(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return p(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return p(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,o=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return c=e.done,e},e:function(e){o=!0,a=e},f:function(){try{c||null==t.return||t.return()}finally{if(o)throw a}}}}function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var m=f.ZP.div.withConfig({displayName:"pages__Container",componentId:"sc-eccczk-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;min-height:100vh;padding:0 0.5rem;"]),h=f.ZP.main.withConfig({displayName:"pages__Main",componentId:"sc-eccczk-1"})(["display:flex;flex:1;flex-direction:column;align-items:center;justify-content:center;padding:5rem 0;"]),g=f.ZP.div.withConfig({displayName:"pages__Grid",componentId:"sc-eccczk-2"})(["display:flex;flex-wrap:wrap;align-items:center;justify-content:center;max-width:500px;margin-top:3rem;@media (max-width:600px){flex-direction:column;width:100%;}"]),y=f.ZP.div.withConfig({displayName:"pages__Area",componentId:"sc-eccczk-3"})(["width:50px;height:50px;border:1px solid black;background-color:",";text-align:center;line-height:50px;"],(function(e){return e.clicked?"transparent":"green"})),v=f.ZP.footer.withConfig({displayName:"pages__Footer",componentId:"sc-eccczk-4"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100px;border-top:1px solid #eaeaea;a{display:flex;flex-grow:1;align-items:center;justify-content:center;}"]),x=f.ZP.span.withConfig({displayName:"pages__Logo",componentId:"sc-eccczk-5"})(["height:1em;margin-left:0.5rem;"]);n.default=function(){var e=(0,l.useState)(0),n=e[0],t=(e[1],(0,l.useMemo)((function(){return{len:n<1?8:14,margin:n<1?2:4,bomb:n<1?8:16}}),[n])),i=function(){var e=t;return(0,r.Z)(Array(e.len)).map((function(){return(0,r.Z)(Array(e.len+e.margin)).map((function(){return 0}))}))},c=function(){var e=t;return(0,r.Z)(Array(e.len)).map((function(){return(0,r.Z)(Array(e.len+e.margin)).map((function(){return!1}))}))},f=(0,l.useState)(c),p=f[0],w=f[1],_=(0,l.useState)(i),b=_[0],j=_[1],k=[[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1]],A=function(e,n){var t=p[e][n],r=b[e][n];if(!t)return"";var i=String(r);return 99===r&&(i="\u3007"),0===r&&(i=""),i},N=function e(n,r,i){var a=t,c=a.len+a.margin,o=i[0],u=i[1];if(n[o][u]=!0,r[o][u]>0)return n;var l,f=d(k);try{for(f.s();!(l=f.n()).done;){var s=l.value,p=o+1*s[0],m=u+1*s[1];p<0||m<0||p>a.len-1||m>c-1||!0!==n[p][m]&&e(n,r,[p,m])}}catch(h){f.e(h)}finally{f.f()}return n},Z=(0,l.useState)(!1),C=Z[0],S=Z[1],P=function(e,n){return new Promise((function(c,u){if(!e){var l=function(e){var n,c=t,u=(0,r.Z)(Array(8)).map((function(e,n){return n})),l=(0,r.Z)(Array(8)).map((function(e,n){return n})),f=e[0]-1<0?0:e[0]-1,s=e[0]+1>c.len?c.len:e[0]+1,p=e[1]-1<0?0:e[1]-1,m=e[1]+1>c.len?c.len:e[1]+1,h=u.filter((function(e){return e<f||e>s})),g=l.filter((function(e){return e<p||e>m})),y=[],v=d(h);try{for(v.s();!(n=v.n()).done;){var x,w=n.value,_=d(g);try{for(_.s();!(x=_.n()).done;){var b=x.value;y.push([w,b])}}catch(O){_.e(O)}finally{_.f()}}}catch(O){v.e(O)}finally{v.f()}y=o().shuffle(y);var j,A=a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(y,"t0",1);case 1:case"end":return e.stop()}}),e)}))(),N=i(),Z=d((0,r.Z)(Array(8)).map((function(){return A.next().value})));try{for(Z.s();!(j=Z.n()).done;){var C=j.value;if(void 0!==C){N[C[0]][C[1]]=99;var S,P=d(k);try{for(P.s();!(S=P.n()).done;){var I=S.value,z=C[0]+1*I[0],E=C[1]+1*I[1];z<0||E<0||z>c.len-1||E>c.len+c.margin-1||99!=N[z][E]&&(N[z][E]+=1)}}catch(O){P.e(O)}finally{P.f()}}}}catch(O){Z.e(O)}finally{Z.f()}return N}(n);return S(!0),c(l)}return c(b)}))},I=function(e,n){P(n,e).then((function(n){var t=JSON.parse(JSON.stringify(p)),r=n;j(r),99===r[e[0]][e[1]]&&console.log("\u8ca0\u3051"),t=N(t,r,e),w(t)}))};return(0,s.jsxs)(m,{children:[(0,s.jsxs)(u.default,{children:[(0,s.jsx)("title",{children:"Minesweeper study"}),(0,s.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,s.jsx)("link",{rel:"icon",href:"favicon.ico"})]}),(0,s.jsxs)(h,{children:[(0,s.jsx)("button",{onClick:function(){w(c()),S(!1)},children:"\u30af\u30ea\u30a2"}),(0,s.jsx)(g,{children:p.map((function(e,n){return e.map((function(e,t){return(0,s.jsx)(y,{clicked:p[n][t],onClick:function(){return I([n,t],C)},children:A(n,t)},"".concat(n,"-").concat(t))}))}))})]}),(0,s.jsx)(v,{children:(0,s.jsxs)("a",{href:"https://vercel.com?utm_source=create-next-app&utm_medium=default-template&utm_campaign=create-next-app",target:"_blank",rel:"noopener noreferrer",children:["Powered by"," ",(0,s.jsx)(x,{children:(0,s.jsx)("img",{src:"vercel.svg",alt:"Vercel Logo",width:72,height:16})})]})})]})}},5301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2119)}])}},function(e){e.O(0,[662,239,774,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);